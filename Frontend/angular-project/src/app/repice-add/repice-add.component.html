<div class="row g-0">
  <div class="offset-lg-3 col-lg-6">
    <h1 class="display-5 text-success text-center fw-bold mt-5">Nueva receta</h1>
    <form (ngSubmit)="addRepice(newRepice);reset(sinGluten, sinLactosa, vegana, fileImage)" #form="ngForm">
      <div class="row g-0">
        <div class="form-group form-floating my-1 col-lg-6">
          <input type="text" class="form-control" autocomplete="off" [ngClass]="{'is-invalid':!newRepice.nombre.match('^\\D+$')
          && newRepice.nombre, 'is-valid':newRepice.nombre.match('^\\D+$')}"  name="nombre" placeholder="Nombre"
          [(ngModel)]="newRepice.nombre"required pattern="^\D+$">
          <div class="invalid-feedback">El nombre no puede contener números</div>
          <label>Nombre<span class="text-danger">*</span></label>
        </div>
        <div class="form-group d-lg-flex align-items-center justify-content-evenly col-lg-6 my-1">
          <label class="form-label">Tipo<span class="text-danger">*</span>:&nbsp;</label>
          <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
            <input type="radio" class="btn-check" name="btnradio" id="btnradio1" value="Dulce" [(ngModel)]="newRepice.tipo" required>
            <label class="btn btn-outline-danger" for="btnradio1">Dulce</label>
            <input type="radio" class="btn-check" name="btnradio" id="btnradio2" value="Salado" [(ngModel)]="newRepice.tipo">
            <label class="btn btn-outline-info" for="btnradio2">Salado</label>
          </div>
        </div>
        <div class="form-group d-lg-flex justify-content-between col-lg-12 my-1">
          <label class="form-label">Necesidades especiales:&nbsp;</label>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" name="flexSwitchCheckDefault" value="Sin gluten" #sinGluten (input)="saveNeeds(sinGluten)">
            <label class="form-check-label" for="flexSwitchCheckDefault">Sin gluten</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" name="flexSwitchCheckDefault" value="Sin lactosa" #sinLactosa (input)="saveNeeds(sinLactosa)">
            <label class="form-check-label" for="flexSwitchCheckDefault">Sin lactosa</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" name="flexSwitchCheckDefault" value="Vegana" #vegana (input)="saveNeeds(vegana)">
            <label class="form-check-label" for="flexSwitchCheckDefault">Veganas</label>
          </div>
        </div>
        <div class="form-group d-flex col-lg-6 star-container my-1">
          <label class="form-label">Dificultad<span class="text-danger">*</span>:&nbsp;</label>
          <span *ngFor="let star of [1, 2, 3, 4 , 5]" class="fa-star"
          [ngClass]="{'fas':star<=newRepice.dificultad, 'far':star>newRepice.dificultad}"
          (click)="setLevel(star)"></span>
        </div>
        <div class="form-group">
          <label for="exampleTextarea" class="form-label mt-4">Ingredientes<span class="text-danger">**</span></label>
          <textarea class="form-control" name="ingredientes" rows="3" [(ngModel)]="ingredientesString" required></textarea>
        </div>
        <div class="form-group">
          <label for="exampleTextarea" class="form-label mt-4">Elaboración<span class="text-danger">**</span></label>
          <textarea class="form-control" name="elaboracion" rows="3" [(ngModel)]="elaboracionString" required></textarea>
        </div>
        <div class="form-group col-lg-7">
          <label for="image">Imagen<span class="text-danger">*</span>:</label>
          <input type="file" class="form-control" name="image" #fileImage required (change)="changeImage(fileImage)" accept="image/png">
        </div>
        <img *ngIf="newRepice.imagen" [src]="newRepice.imagen" alt="" class="bg-info img-thumbnail col-lg-5">
      </div>
      <div class="row g-0 my-2 align-items-center">
        <div class="text-danger fw-light col-md-6">
          <div>*Campos obligatorios</div>
          <div>**Estos datos serán separados según los párrafos que se escriban</div>
        </div>
        <div class="col col-md-6 d-flex justify-content-end">
          <button type="button" class="btn btn-secondary" (click)="reset(sinGluten, sinLactosa, vegana, fileImage)">Borrar datos</button>
          <div class="mx-3"></div>
          <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Registrar receta</button>
        </div>
      </div>
    </form>
  </div>
</div>
